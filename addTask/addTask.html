<!DOCTYPE html>
<html lang="de">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="../styles/allSites.css" />
        <link rel="stylesheet" href="../styles/buttons.css" />
        <link rel="stylesheet" href="../styles/inputIcons.css" />
        <link rel="stylesheet" href="../styles/font.css" />
        <link rel="stylesheet" href="../styles/standard.css" />
        <link rel="stylesheet" href="../addTask/dropdown-assigned-to.css" />
        <link rel="stylesheet" href="../addTask/dropdown-category.css" />
        <link rel="stylesheet" href="../addTask/dropdown-subtask.css" />
        <link rel="stylesheet" href="../addTask/radiobutton.css" />
        <link rel="stylesheet" href="./addTask-error-massage.css" />
        <link rel="stylesheet" href="./addTask.css" />
        <link rel="shortcut icon" href="../assets/imgs/joinLogoDark.svg" type="image/x-icon" />
        <link
            rel="stylesheet"
            type="text/css"
            href="https://npmcdn.com/flatpickr/dist/themes/material_blue.css"
            defer />
        <script src="https://cdn.jsdelivr.net/npm/flatpickr" defer></script>
        <script src="../scripts/userProfil.js" defer></script>
        <script src="../scripts/templates.js" defer></script>
        <script src="./addTask.js" defer></script>
        <script src="./assigned-to.js" defer></script>
        <script src="./category.js" defer></script>
        <script src="./priority.js" defer></script>
        <script src="./fetch.js" defer></script>
        <script src="./subtask.js" defer></script>

        <script src="./LÖSCHEN-addTask-random-fill.js" defer></script>

        <title>Join</title>
    </head>
    <body onload="renderSidebar(); renderHeader(); updateUserProfile()">
        <main id="main_container">
            <div id="header_container"></div>
            <div class="sidebar_container">
                <div class="sidebar_img_container">
                    <a href="../index.html"><img src="../assets/imgs/joinLogoLight.svg" alt="Join Logo" /></a>
                    <div id="navbar_container"></div>
                </div>
            </div>

            <div id="add_task_container">
                <div class="title_head">
                    <h2>Add Task</h2>
                </div>

                <form id="add_task_form" class="main_section">
                    <section class="main_section_left">
                        <div class="input_title_group">
                            <label for="title" class="required_for_label">Title</label>
                            <input
                                name="title"
                                id="title"
                                class="input_title"
                                type="text"
                                placeholder="Enter a title" />
                            <span id="required_message_title" class="required_message">This field is required</span>
                        </div>
                        <div class="textarea_group">
                            <label id="description_label" for="description" class="input-title">Description</label>
                            <textarea
                                name="description"
                                class="textarea"
                                id="description"
                                placeholder="Enter a Description"></textarea>
                        </div>
                        <div class="input_date_group">
                            <label for="due_date" class="required_for_label">Due date</label>
                            <div class="input_date_container">
                                <input
                                    name="due_date"
                                    type="text"
                                    id="due_date"
                                    placeholder="dd/mm/yyyy"
                                    class="flatpickr_input input_date"
                                    required />
                                <img
                                    class="calendar_icon"
                                    src="../assets/imgs/addTaskIcons/CalenderIcon.svg"
                                    alt="Calendar Icon"
                                    onclick="openCalendar()" />
                            </div>
                            <span id="required_message_due_date" class="required_message">This field is required</span>
                        </div>
                    </section>

                    <div class="separator_vertically_gray"></div>

                    <section class="main_section_right">
                        <div class="radio_btn_container">
                            <span>Priority</span>
                            <div class="priority_btn_group">
                                <input
                                    type="radio"
                                    id="prio_urgent"
                                    name="priority"
                                    value="urgent"
                                    onclick="switchBtnPriority('urgent')" />
                                <label for="prio_urgent" class="btn btn--red"
                                    >Urgent
                                    <img
                                        src="../assets/imgs/addTaskIcons/priorityUrgentIcon.svg"
                                        alt="Urgent Icon"
                                        class="priority_icon"
                                        id="icon_urgent"
                                /></label>

                                <input
                                    type="radio"
                                    id="prio_medium"
                                    name="priority"
                                    value="medium"
                                    checked
                                    onclick="switchBtnPriority('medium')" />
                                <label for="prio_medium" class="btn btn--orange"
                                    >Medium
                                    <img
                                        src="../assets/imgs/addTaskIcons/priorityMediumIconWhite.svg"
                                        alt="Medium Icon"
                                        class="priority_icon"
                                        id="icon_medium"
                                /></label>

                                <input
                                    type="radio"
                                    id="prio_low"
                                    name="priority"
                                    value="low"
                                    onclick="switchBtnPriority('low')" />
                                <label for="prio_low" class="btn btn--green"
                                    >Low
                                    <img
                                        src="../assets/imgs/addTaskIcons/priorityLowIcon.svg"
                                        alt="Low Icon"
                                        class="priority_icon"
                                        id="icon_low"
                                /></label>
                            </div>
                        </div>

                        <div class="assign_to_group">
                            <label for="dropdown_toggle_btn" onclick="event.preventDefault()">Assigned to</label>
                            <div class="dropdown" id="dropdown">
                                <div class="dropdown_input_wrapper">
                                    <input
                                        oninput="filterContacts()"
                                        onclick="toggleDropdownAssigned(event)"
                                        type="text"
                                        id="dropdown_toggle_btn"
                                        class="dropdown_toggle"
                                        placeholder="Select contacts to assign" />
                                    <div class="arrow_bg_hover_color">
                                        <span class="arrow"></span>
                                    </div>
                                </div>
                                <ul class="dropdown_menu" id="dropdown_menu"></ul>
                            </div>
                        </div>

                        <div id="selected_users_group" class="selected_user_group"></div>

                        <div class="category_group">
                            <label
                                class="required_for_label"
                                for="category_dropdown_input"
                                onclick="event.preventDefault()"
                                >Category</label
                            >
                            <div class="category_dropdown" id="category_dropdown">
                                <div class="category_dropdown_input_wrapper">
                                    <input
                                        name="category"
                                        type="text"
                                        id="category_dropdown_input"
                                        name="category"
                                        class="category_dropdown_toggle"
                                        placeholder="Select task category"
                                        readonly
                                        required
                                        onclick="toggleDropdownCategory(event)" />
                                    <span class="category_arrow_bg_hover_color">
                                        <span class="arrow"></span>
                                    </span>
                                </div>
                                <span id="required_message_category" class="required_message"
                                    >This field is required</span
                                >
                                <ul class="category_dropdown_menu" id="category_dropdown_menu"></ul>
                            </div>
                        </div>

                        <div class="tag_input_container">
                            <label for="tag_input_field" onclick="event.preventDefault()">Subtasks</label>
                            <div class="tag_input">
                                <input
                                    type="text"
                                    placeholder="Add new subtask"
                                    id="tag_input_field"
                                    onclick="replaceButtons()"
                                    onkeydown="onKeyDownEnter(event)" />
                                <div class="subtask_btn_container" id="subtask_btn_container">
                                    <button class="plus_btn" onclick="replaceButtons()">
                                        <img
                                            class="subtasks_icon arrow_bg_hover_color_subtask"
                                            src="../assets/imgs/addTaskIcons/subtasksPlusIcon.svg"
                                            alt="New Button Icon" />
                                    </button>
                                </div>
                            </div>
                            <div class="new_tag_container" id="new_tag_container"></div>
                        </div>
                    </section>
                </form>

                <!-- Löschen -->
                <div style="text-align: center">
                    <button
                        id="randomFillBtn"
                        type="button"
                        style="
                            width: 100px;
                            height: 100px;
                            background-color: #e60000;
                            color: #fff;
                            font-weight: bold;
                            font-size: 14px;
                            border: none;
                            border-radius: 6px;
                            box-shadow: 0 0 5px rgba(230, 0, 0, 0.8);
                            cursor: pointer;
                        ">
                        LÖSCHEN Zufällig ausfüllen LÖSCHEN
                    </button>
                </div>
                <!-- Löschen -->

                <footer class="create_task">
                    <div><p class="required_footer_text">* These fields are required</p></div>
                    <div class="btn_position">
                        <button
                            class="clear_btn"
                            type="reset"
                            form="add_task_form"
                            id="clear_btn"
                            onclick="clearTasks()">
                            Clear
                            <img
                                class="clear_icon"
                                id="icon-X"
                                src="../assets/imgs/addTaskIcons/subtasksCancelIconAndClearTask.svg"
                                alt="Icon" />
                        </button>
                        <button
                            class="create_task_btn"
                            id="create_task_btn"
                            type="button"
                            form="add_task_form"
                            onclick="validateRequiredFields()">
                            Create Task
                            <img
                                class="create_task_icon"
                                id="create_task"
                                src="../assets/imgs/addTaskIcons/creatTaskBtnCheck.svg"
                                alt="Icon" />
                        </button>
                    </div>
                </footer>
            </div>
        </main>
    </body>
</html>

